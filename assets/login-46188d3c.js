import{n as R,a as T,p as U,e as d,q as $,s as A,v as E,r as t,o as p,c as h,w as r,x as o,k as J,j as i,b as a,y as x,g as m,z as F,A as G,f as k,B as b,d as y}from"./index-df9b007c.js";const H={key:0,class:"fill-height d-flex align-center justify-center w-100"},K=i("div",{class:"font-weight-bold text-h4 text-md-h2"},[m(" 蓝楹会"),i("br"),m(" Jacaranda Stock ")],-1),L=i("div",{class:"text-subtitle-1"}," 合格投资者的摇篮 ",-1),O={class:"d-flex justify-end"},P=R({__name:"login",setup(Q){const v=T();U();const V=d("https://cdn.devdojo.com/images/november2020/hero-image.jpeg"),l=d(""),u=d(""),s=d({username:"",password:""}),{name:j}=$(),B=A(()=>j.value==="xs"),_=d(!0);E(()=>{_.value=!1});async function C(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await k.post("/login",{username:l.value,password:u.value});if(e.data.status==="success"){b(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" "}catch(e){console.log(e)}}async function I(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await k.post("/register",{username:l.value,password:u.value});if(e.data.status==="success"){b(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" "}catch(e){console.log(e)}}return(e,n)=>{const M=t("v-progress-circular"),f=t("v-text-field"),N=t("v-form"),g=t("v-btn"),S=t("v-card"),w=t("v-col"),q=t("v-img"),z=t("v-row"),D=t("v-container");return p(),h(D,{class:"fill-height"},{default:r(()=>[o(_)?(p(),J("div",H,[i("div",null,[a(M,{color:"deep-purple-accent-4",indeterminate:"",rounded:"",size:50})])])):(p(),h(z,{key:1,class:"h-100 d-flex align-center"},{default:r(()=>[a(w,{cols:"12",md:"6"},{default:r(()=>[a(S,{class:"pa-6 bg-transparent",elevation:"0"},{default:r(()=>[K,L,a(N,null,{default:r(()=>[a(f,{modelValue:o(l),"onUpdate:modelValue":n[0]||(n[0]=c=>x(l)?l.value=c:null),"error-messages":o(s).username,"validate-on":"input",label:"用户名",outlined:"",rules:[c=>c.length>0||"用户名不能为空"],class:"mt-4",required:"",onInput:n[1]||(n[1]=c=>o(s).username="")},null,8,["modelValue","error-messages","rules"]),a(f,{modelValue:o(u),"onUpdate:modelValue":n[2]||(n[2]=c=>x(u)?u.value=c:null),"error-messages":o(s).password,label:"密码",outlined:"",class:"mt-4",onInput:n[3]||(n[3]=c=>o(s).password="")},null,8,["modelValue","error-messages"])]),_:1}),i("div",O,[a(g,{class:"mt-4",color:"primary",onClick:C},{default:r(()=>[m("开始🎉")]),_:1})]),a(g,{block:"",variant:"outlined",elevation:"3",rounded:"2",class:"mt-4",color:"primary",onClick:I},{default:r(()=>[m(" 🔰 还没有创建账号? 点击我注册 ")]),_:1})]),_:1})]),_:1}),F(a(w,{cols:"12",md:"6"},{default:r(()=>[a(q,{src:o(V),"aspect-ratio":"1.7",class:"rounded-xl"},null,8,["src"])]),_:1},512),[[G,!o(B)]])]),_:1}))]),_:1})}}});typeof y=="function"&&y(P);export{P as default};
