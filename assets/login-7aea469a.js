import{y as z,a as D,z as R,r as u,n as T,p as U,o as $,c as e,d as m,e as g,w as r,g as s,h as q,k as d,f as o,A as w,j as p,v as A,x as E,b as J,B as F,m as x}from"./index-7b47aa05.js";const G={key:0,class:"fill-height d-flex align-center justify-center w-100"},H=d("div",{class:"font-weight-bold text-h4 text-md-h2"},[p(" 蓝楹会"),d("br"),p(" Jacaranda Stock ")],-1),K=d("div",{class:"text-subtitle-1"}," 合格投资者的摇篮 ",-1),L={class:"d-flex justify-end"},O=z({__name:"login",setup(P){const h=D();R();const b=u("https://cdn.devdojo.com/images/november2020/hero-image.jpeg"),c=u(""),i=u(""),a=u({username:"",password:""}),{name:k}=T(),y=U(()=>k.value==="xs"),_=u(!0);$(()=>{_.value=!1});async function V(){try{if(c.value===""){a.value.username="用户名不能为空";return}const n=await J.post("/login",{username:c.value,password:i.value});if(n.data.status==="success"){F(n.data.access_token),await h.push(n.data.redirect);return}else a.value.username=n.data.message,a.value.password=" "}catch(n){console.log(n)}}return(n,t)=>{const j=e("v-progress-circular"),v=e("v-text-field"),B=e("v-form"),C=e("v-btn"),I=e("v-card"),f=e("v-col"),M=e("v-img"),N=e("v-row"),S=e("v-container");return m(),g(S,{class:"fill-height"},{default:r(()=>[s(_)?(m(),q("div",G,[d("div",null,[o(j,{color:"deep-purple-accent-4",indeterminate:"",rounded:"",size:50})])])):(m(),g(N,{key:1,class:"h-100 d-flex align-center"},{default:r(()=>[o(f,{cols:"12",md:"6"},{default:r(()=>[o(I,{class:"pa-6 bg-transparent",elevation:"0"},{default:r(()=>[H,K,o(B,null,{default:r(()=>[o(v,{modelValue:s(c),"onUpdate:modelValue":t[0]||(t[0]=l=>w(c)?c.value=l:null),"error-messages":s(a).username,"validate-on":"input",label:"用户名",outlined:"",rules:[l=>l.length>0||"用户名不能为空"],class:"mt-4",required:"",onInput:t[1]||(t[1]=l=>s(a).username="")},null,8,["modelValue","error-messages","rules"]),o(v,{modelValue:s(i),"onUpdate:modelValue":t[2]||(t[2]=l=>w(i)?i.value=l:null),"error-messages":s(a).password,label:"密码",outlined:"",class:"mt-4",onInput:t[3]||(t[3]=l=>s(a).password="")},null,8,["modelValue","error-messages"])]),_:1}),d("div",L,[o(C,{class:"mt-4",color:"primary",onClick:V},{default:r(()=>[p("开始🎉")]),_:1})])]),_:1})]),_:1}),A(o(f,{cols:"12",md:"6"},{default:r(()=>[o(M,{src:s(b),"aspect-ratio":"1.7",class:"rounded-xl"},null,8,["src"])]),_:1},512),[[E,!s(y)]])]),_:1}))]),_:1})}}});typeof x=="function"&&x(O);export{O as default};
